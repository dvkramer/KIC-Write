/* Basic Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background-color: #1A1B1E; /* Main page background */
    color: #E9ECEF; /* Primary text color */
    line-height: 1.6;
}

.app-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
}

.app-header {
    width: 100%;
    padding: 20px;
    text-align: center;
    background-color: #1A1B1E; /* Same as body, or could be slightly different if desired */
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    z-index: 100; /* Ensure it's above other content initially */
}

.app-header h1 {
    font-size: 1.8em;
    margin-bottom: 0.25em;
}

.app-header p {
    font-size: 0.9em;
    color: #A0AEC0; /* Secondary text color */
}

.sticky-toolbar-wrapper {
    width: 100%;
    background-color: #25262B; /* Card element background for the sticky bar */
    padding: 10px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: sticky;
    top: 0; /* Will stick to the top */
    z-index: 200; /* Higher than app-header when it's scrolled away */
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    /* Initially, this wrapper might be empty or just have controls,
       JS will move .ql-toolbar here.
       When logo is hidden, this will be the top-most element. */
}

.controls {
    display: flex;
    gap: 10px;
    margin-bottom: 10px; /* Space between controls and Quill toolbar */
    padding: 0 20px; /* Add some padding to the controls bar */
    width: 100%;
    max-width: 800px; /* Align with editor width */
    justify-content: center;
}

.controls button {
    font-family: 'Inter', sans-serif;
    background-color: #3B3C40;
    color: #E9ECEF;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.controls button:hover {
    background-color: #4A4B50;
}

/* Quill Toolbar placeholder - will be styled by Quill's CSS and our overrides */
/* We will ensure .ql-toolbar is moved into .sticky-toolbar-wrapper by JS */
/* .ql-toolbar will have its own background, matching .sticky-toolbar-wrapper or #2E2E33 */

.app-card {
    background-color: #25262B; /* Card element background */
    width: 100%;
    max-width: 800px; /* Typical document width */
    margin-top: 20px; /* Space below the sticky toolbar */
    margin-bottom: 50px; /* Space at the bottom */
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    display: flex; /* To make the editor container take full height */
    flex-direction: column;
}

#editor {
    background-color: #2E2E33; /* Editor background */
    color: #E9ECEF; /* Text color inside editor */
    font-family: 'Fira Code', monospace;
    min-height: calc(100vh - 200px); /* Adjust based on header/toolbar heights */
    padding: 20px;
    border-radius: 0 0 8px 8px; /* Rounded bottom corners if app-card has top radius */
    outline: none; /* Remove browser default focus outline */
    flex-grow: 1; /* Allow editor to grow */
    display: flex; /* Make #editor a flex container for .ql-container */
    flex-direction: column; /* Stack .ql-container vertically */
}

/* When logo is hidden */
.logo-hidden .app-header {
    transform: translateY(-100%);
    opacity: 0;
    pointer-events: none; /* Prevent interaction when hidden */
}

/* Quill Toolbar Customization */
.sticky-toolbar-wrapper .ql-toolbar {
    background-color: #2E2E33; /* Match editor or a distinct toolbar shade */
    border: none; /* Remove Quill's default border */
    border-radius: 4px; /* Optional: rounded corners for the toolbar */
    padding: 8px;
    width: 100%;
    max-width: 800px; /* Align with editor width */
    box-sizing: border-box; /* Ensure padding doesn't expand it beyond max-width */
}

/* Style Quill icons for dark theme */
.ql-toolbar .ql-stroke {
    stroke: #A0AEC0;
}
.ql-toolbar .ql-fill {
    fill: #A0AEC0;
}
.ql-toolbar .ql-picker-label {
    color: #A0AEC0;
}
.ql-toolbar button:hover .ql-stroke,
.ql-toolbar button:focus .ql-stroke,
.ql-toolbar button.ql-active .ql-stroke {
    stroke: #E9ECEF;
}
.ql-toolbar button:hover .ql-fill,
.ql-toolbar button:focus .ql-fill,
.ql-toolbar button.ql-active .ql-fill {
    fill: #E9ECEF;
}
.ql-toolbar button:hover .ql-picker-label,
.ql-toolbar button:focus .ql-picker-label,
.ql-toolbar button.ql-active .ql-picker-label {
    color: #E9ECEF;
}

/* Quill Editor Area Adjustments for Height and Clickability */
#editor .ql-container.ql-snow {
    border: none; /* Remove Quill's default border if any from snow theme */
    font-family: inherit; /* Inherit Fira Code from #editor */
    display: flex;
    flex-direction: column;
    flex-grow: 1; /* Fill #editor's height */
}

#editor .ql-editor {
    padding: 0; /* #editor div already has padding, ql-editor uses that space */
    flex-grow: 1; /* Fill the .ql-container, effectively inheriting min-height */
    font-size: 1rem; /* Base font size for editor content */
    line-height: 1.6; /* Readability */
    width: 100%; /* Take full width of container */
}

/* Style Quill placeholder text for dark theme */
#editor .ql-editor.ql-blank::before {
    color: #A0AEC0; /* Secondary text color, light gray */
    font-style: normal; /* Override Quill's default italic placeholder if desired */
    /* Ensure it's positioned correctly if default styles are off */
    /* position: absolute; left: 15px; top: 12px; (Quill defaults, adjust if #editor padding changed this) */
    /* With our #editor padding and .ql-editor padding:0, placeholder should align correctly. */
}


/* Ensure .controls are above .ql-toolbar within the flex container */
.sticky-toolbar-wrapper .controls {
    order: -1; /* Moves controls before the toolbar in flex layout */
    width: 100%; /* Ensure it takes full width available in the flex column */
    max-width: 800px; /* Align with editor width */
    justify-content: center; /* Re-center buttons if they don't fill width */
}


/* Responsive Design (Basic Example) */
@media (max-width: 768px) {
    .sticky-toolbar-wrapper {
        padding-left: 10px; /* Add side padding to the wrapper */
        padding-right: 10px;
    }

    .controls {
        flex-direction: column;
        align-items: stretch; /* Make buttons full width */
        padding: 0; /* Remove specific padding from controls, wrapper handles it */
        /* gap: 0; /* Reset gap if it was set, margin on buttons is used */
    }

    .controls button {
        width: 100%;
        margin-bottom: 8px; /* Consistent spacing between stacked buttons */
    }

    .controls button:last-child {
        margin-bottom: 10px; /* Space between the last control button and the Quill toolbar */
    }

    .app-card {
        margin-left: 10px; /* Reduce side margins for the main content card */
        margin-right: 10px;
        width: auto;
    }

    #editor {
        min-height: calc(100vh - 250px); /* Adjust for stacked controls */
    }
}

@media (max-width: 480px) {
    .app-header h1 {
        font-size: 1.5em;
    }
    .app-header p {
        font-size: 0.8em;
    }
    #editor {
        padding: 15px;
    }
}
